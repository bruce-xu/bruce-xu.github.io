---
layout: demo
title: 图片瀑布流 DEMO
permalink: /demos/waterfall/
categories: [demo]
---

<div class="container" id="container"></div>
<style type="text/css">
    .wrapper {
        max-width: initial;
    }
    .post-header,
    .site-footer {
        display: none;
    }
    .container {
        width: 1000px;
        margin: 0 auto;
    }
    .wf-img {
        float: left;
        width: 200px;
        padding: 5px;
        margin: 3px;
        border: 1px solid #ddd;
        border-radius: 5px;
    }
    .wf-img img {
        width: 100%;
    }
</style>
<script src="Waterfall.js"></script>
<script>
    var pagedImages = [
  [
    "http://img0.imgtn.bdimg.com/it/u=1487644325,4176781745&fm=26&gp=0.jpg",
    "http://img0.imgtn.bdimg.com/it/u=2367512334,2722777786&fm=26&gp=0.jpg",
    "http://img3.imgtn.bdimg.com/it/u=441954220,920176853&fm=26&gp=0.jpg",
    "http://img4.imgtn.bdimg.com/it/u=1424830935,2480014561&fm=26&gp=0.jpg",
    "http://img2.imgtn.bdimg.com/it/u=1232465471,3744065701&fm=26&gp=0.jpg",
    "http://img3.imgtn.bdimg.com/it/u=2304939247,1782187856&fm=26&gp=0.jpg",
    "http://img2.imgtn.bdimg.com/it/u=3535877858,3500074324&fm=26&gp=0.jpg",
    "http://img2.imgtn.bdimg.com/it/u=3489047087,1299490465&fm=26&gp=0.jpg",
    "http://img0.imgtn.bdimg.com/it/u=1558500158,1317922378&fm=26&gp=0.jpg",
    "http://img4.imgtn.bdimg.com/it/u=1656115412,2362651784&fm=26&gp=0.jpg",
    "http://img1.imgtn.bdimg.com/it/u=1311661692,785432185&fm=26&gp=0.jpg",
    "http://img1.imgtn.bdimg.com/it/u=1763676993,1101480940&fm=26&gp=0.jpg",
    "http://img0.imgtn.bdimg.com/it/u=2324449097,3082501133&fm=26&gp=0.jpg",
    "http://img2.imgtn.bdimg.com/it/u=3257080117,155214505&fm=26&gp=0.jpg",
    "http://img4.imgtn.bdimg.com/it/u=3971573409,2340523769&fm=26&gp=0.jpg",
    "http://img5.imgtn.bdimg.com/it/u=3739009746,168591149&fm=26&gp=0.jpg",
    "http://img2.imgtn.bdimg.com/it/u=1294840953,2889154913&fm=26&gp=0.jpg",
    "http://img5.imgtn.bdimg.com/it/u=511011924,4011110979&fm=26&gp=0.jpg",
    "http://img4.imgtn.bdimg.com/it/u=137405204,3820005968&fm=26&gp=0.jpg",
    "http://img4.imgtn.bdimg.com/it/u=3750275666,1936524084&fm=26&gp=0.jpg",
    "http://img2.imgtn.bdimg.com/it/u=1782263481,3349210017&fm=26&gp=0.jpg",
    "http://img2.imgtn.bdimg.com/it/u=4194949478,1540212130&fm=26&gp=0.jpg",
    "http://img2.imgtn.bdimg.com/it/u=2859268685,2772548089&fm=26&gp=0.jpg",
    "http://img3.imgtn.bdimg.com/it/u=970632382,4061294637&fm=26&gp=0.jpg",
    "http://img2.imgtn.bdimg.com/it/u=4186367674,3546170528&fm=26&gp=0.jpg",
    "http://img5.imgtn.bdimg.com/it/u=172189804,3216141739&fm=26&gp=0.jpg",
    "http://img0.imgtn.bdimg.com/it/u=570292981,598149761&fm=26&gp=0.jpg",
    "http://img2.imgtn.bdimg.com/it/u=763008815,807423621&fm=26&gp=0.jpg",
    "http://img0.imgtn.bdimg.com/it/u=425658001,429808199&fm=26&gp=0.jpg",
    "http://img1.imgtn.bdimg.com/it/u=1476284959,2744558214&fm=26&gp=0.jpg",
    "http://img5.imgtn.bdimg.com/it/u=673479417,2710205234&fm=26&gp=0.jpg",
    "http://img0.imgtn.bdimg.com/it/u=16988778,153264102&fm=26&gp=0.jpg",
    "http://img4.imgtn.bdimg.com/it/u=3205270722,772241140&fm=26&gp=0.jpg",
    "http://img0.imgtn.bdimg.com/it/u=2675089552,3352035156&fm=26&gp=0.jpg",
    "http://img2.imgtn.bdimg.com/it/u=829270700,1123292172&fm=26&gp=0.jpg",
    "http://img3.imgtn.bdimg.com/it/u=1939206435,256299276&fm=26&gp=0.jpg",
    "http://img4.imgtn.bdimg.com/it/u=523538579,882888473&fm=26&gp=0.jpg",
    "http://img1.imgtn.bdimg.com/it/u=3804147461,1193499030&fm=26&gp=0.jpg",
    "http://img1.imgtn.bdimg.com/it/u=2501255546,80475101&fm=26&gp=0.jpg",
    "http://img5.imgtn.bdimg.com/it/u=1283882430,3995305869&fm=26&gp=0.jpg",
    "http://img2.imgtn.bdimg.com/it/u=4053517925,205680591&fm=26&gp=0.jpg",
    "http://img0.imgtn.bdimg.com/it/u=2493493810,3500083800&fm=26&gp=0.jpg",
    "http://img4.imgtn.bdimg.com/it/u=1408347702,1391492710&fm=26&gp=0.jpg",
    "http://img3.imgtn.bdimg.com/it/u=989506971,2688363582&fm=26&gp=0.jpg",
    "http://img3.imgtn.bdimg.com/it/u=1741002091,2734822116&fm=26&gp=0.jpg",
    "http://img3.imgtn.bdimg.com/it/u=3783749390,860521043&fm=26&gp=0.jpg",
    "http://img5.imgtn.bdimg.com/it/u=119310831,1254444416&fm=26&gp=0.jpg",
    "http://img1.imgtn.bdimg.com/it/u=4162087347,841121072&fm=26&gp=0.jpg",
    "http://img2.imgtn.bdimg.com/it/u=3369363425,3999012223&fm=26&gp=0.jpg",
    "http://img4.imgtn.bdimg.com/it/u=2389140428,1315216178&fm=26&gp=0.jpg"
  ],
  [
    "http://img3.imgtn.bdimg.com/it/u=1970027765,2194495450&fm=26&gp=0.jpg",
    "http://img1.imgtn.bdimg.com/it/u=4033168131,3542794100&fm=26&gp=0.jpg",
    "http://img0.imgtn.bdimg.com/it/u=2966452610,1690224962&fm=26&gp=0.jpg",
    "http://img5.imgtn.bdimg.com/it/u=1556684582,3838408729&fm=26&gp=0.jpg",
    "http://img4.imgtn.bdimg.com/it/u=844055179,1841046141&fm=26&gp=0.jpg",
    "http://img0.imgtn.bdimg.com/it/u=62186388,3977583324&fm=26&gp=0.jpg",
    "http://img3.imgtn.bdimg.com/it/u=1454435324,2422644613&fm=26&gp=0.jpg",
    "http://img1.imgtn.bdimg.com/it/u=1826703387,775628914&fm=26&gp=0.jpg",
    "http://img1.imgtn.bdimg.com/it/u=2427886477,802560396&fm=26&gp=0.jpg",
    "http://img2.imgtn.bdimg.com/it/u=3988083956,3647639032&fm=26&gp=0.jpg",
    "http://img5.imgtn.bdimg.com/it/u=3189917887,3977157614&fm=26&gp=0.jpg",
    "http://img1.imgtn.bdimg.com/it/u=3862362949,2289322816&fm=26&gp=0.jpg",
    "http://img0.imgtn.bdimg.com/it/u=3149279825,1820331671&fm=26&gp=0.jpg",
    "http://img0.imgtn.bdimg.com/it/u=179739070,1174775966&fm=26&gp=0.jpg",
    "http://img2.imgtn.bdimg.com/it/u=4210357361,3764590159&fm=26&gp=0.jpg",
    "http://img3.imgtn.bdimg.com/it/u=2158770669,3402697852&fm=26&gp=0.jpg",
    "http://img3.imgtn.bdimg.com/it/u=3915018625,1698314238&fm=26&gp=0.jpg",
    "http://img0.imgtn.bdimg.com/it/u=2555382126,2080646524&fm=26&gp=0.jpg",
    "http://img5.imgtn.bdimg.com/it/u=2671404503,3523627024&fm=26&gp=0.jpg",
    "http://img4.imgtn.bdimg.com/it/u=1012537074,3061865176&fm=26&gp=0.jpg",
    "http://img3.imgtn.bdimg.com/it/u=881527447,638439332&fm=26&gp=0.jpg",
    "http://img2.imgtn.bdimg.com/it/u=743049896,975136860&fm=26&gp=0.jpg",
    "http://img2.imgtn.bdimg.com/it/u=4035136137,2983307997&fm=26&gp=0.jpg",
    "http://img3.imgtn.bdimg.com/it/u=2989875028,796629359&fm=26&gp=0.jpg",
    "http://img4.imgtn.bdimg.com/it/u=4018957365,63066949&fm=26&gp=0.jpg",
    "http://img5.imgtn.bdimg.com/it/u=2996568893,3542833288&fm=26&gp=0.jpg",
    "http://img0.imgtn.bdimg.com/it/u=3177206899,2743736559&fm=26&gp=0.jpg",
    "http://img2.imgtn.bdimg.com/it/u=2071645421,1165575531&fm=26&gp=0.jpg",
    "http://img3.imgtn.bdimg.com/it/u=3282537894,1459700977&fm=26&gp=0.jpg",
    "http://img5.imgtn.bdimg.com/it/u=3828025281,2821614330&fm=26&gp=0.jpg",
    "http://img0.imgtn.bdimg.com/it/u=1725068532,644710818&fm=26&gp=0.jpg",
    "http://img0.imgtn.bdimg.com/it/u=556541989,1672765457&fm=26&gp=0.jpg",
    "http://img5.imgtn.bdimg.com/it/u=2746419340,1568561585&fm=26&gp=0.jpg",
    "http://img5.imgtn.bdimg.com/it/u=2556616528,1109019757&fm=26&gp=0.jpg",
    "http://img4.imgtn.bdimg.com/it/u=57606360,3481709884&fm=26&gp=0.jpg",
    "http://img2.imgtn.bdimg.com/it/u=375687174,1773257630&fm=26&gp=0.jpg",
    "http://img3.imgtn.bdimg.com/it/u=3091298520,1860999535&fm=26&gp=0.jpg",
    "http://img2.imgtn.bdimg.com/it/u=2595438643,804945715&fm=26&gp=0.jpg",
    "http://img3.imgtn.bdimg.com/it/u=2497345726,2149646367&fm=26&gp=0.jpg",
    "http://img3.imgtn.bdimg.com/it/u=1986126308,1168898437&fm=26&gp=0.jpg",
    "http://img4.imgtn.bdimg.com/it/u=831788227,583705233&fm=26&gp=0.jpg",
    "http://img3.imgtn.bdimg.com/it/u=200126779,2961651110&fm=26&gp=0.jpg",
    "http://img5.imgtn.bdimg.com/it/u=2474210601,3994524702&fm=26&gp=0.jpg",
    "http://img5.imgtn.bdimg.com/it/u=3692181634,3228788639&fm=26&gp=0.jpg",
    "http://img0.imgtn.bdimg.com/it/u=3498111742,2518641444&fm=26&gp=0.jpg",
    "http://img2.imgtn.bdimg.com/it/u=3715674546,1695979524&fm=26&gp=0.jpg",
    "http://img5.imgtn.bdimg.com/it/u=1682996926,2191962715&fm=26&gp=0.jpg",
    "http://img5.imgtn.bdimg.com/it/u=513577041,387451964&fm=26&gp=0.jpg",
    "http://img3.imgtn.bdimg.com/it/u=2040661275,2187585672&fm=26&gp=0.jpg",
    "http://img5.imgtn.bdimg.com/it/u=132377532,1807290131&fm=26&gp=0.jpg"
  ],
  [
    "http://img1.imgtn.bdimg.com/it/u=3154268392,1136247969&fm=26&gp=0.jpg",
    "http://img2.imgtn.bdimg.com/it/u=1245099886,2193390634&fm=26&gp=0.jpg",
    "http://img0.imgtn.bdimg.com/it/u=3812359905,4158418807&fm=26&gp=0.jpg",
    "http://img5.imgtn.bdimg.com/it/u=2697925296,4026672309&fm=26&gp=0.jpg",
    "http://img0.imgtn.bdimg.com/it/u=1683955843,3509578671&fm=26&gp=0.jpg",
    "http://img2.imgtn.bdimg.com/it/u=3063794644,435648568&fm=26&gp=0.jpg",
    "http://img2.imgtn.bdimg.com/it/u=3553539380,1146972892&fm=26&gp=0.jpg",
    "http://img0.imgtn.bdimg.com/it/u=685480875,1073480133&fm=26&gp=0.jpg",
    "http://img2.imgtn.bdimg.com/it/u=1504521010,2801683652&fm=26&gp=0.jpg",
    "http://img5.imgtn.bdimg.com/it/u=1639602224,602309919&fm=26&gp=0.jpg",
    "http://img1.imgtn.bdimg.com/it/u=1110457523,3674417670&fm=28&gp=0.jpg",
    "http://img2.imgtn.bdimg.com/it/u=3610182555,91818659&fm=26&gp=0.jpg",
    "http://img5.imgtn.bdimg.com/it/u=2096846025,4016195790&fm=26&gp=0.jpg",
    "http://img4.imgtn.bdimg.com/it/u=2609525603,296743337&fm=26&gp=0.jpg",
    "http://img4.imgtn.bdimg.com/it/u=3063836231,1167559889&fm=26&gp=0.jpg",
    "http://img0.imgtn.bdimg.com/it/u=2614826107,2293341321&fm=26&gp=0.jpg",
    "http://img5.imgtn.bdimg.com/it/u=1900441662,2573422665&fm=26&gp=0.jpg",
    "http://img5.imgtn.bdimg.com/it/u=2419753386,1220784719&fm=26&gp=0.jpg",
    "http://img0.imgtn.bdimg.com/it/u=2156723546,3217057934&fm=26&gp=0.jpg",
    "http://img1.imgtn.bdimg.com/it/u=3474284930,2979779097&fm=26&gp=0.jpg",
    "http://img0.imgtn.bdimg.com/it/u=994733538,3651747394&fm=200&gp=0.jpg",
    "http://img3.imgtn.bdimg.com/it/u=2898779641,1978757208&fm=26&gp=0.jpg",
    "http://img2.imgtn.bdimg.com/it/u=4159508823,1143411279&fm=26&gp=0.jpg",
    "http://img0.imgtn.bdimg.com/it/u=4181456951,1359623309&fm=26&gp=0.jpg",
    "http://img5.imgtn.bdimg.com/it/u=380895769,2453110438&fm=26&gp=0.jpg",
    "http://img1.imgtn.bdimg.com/it/u=2523053626,3766837165&fm=26&gp=0.jpg",
    "http://img4.imgtn.bdimg.com/it/u=1516834039,3907468603&fm=26&gp=0.jpg",
    "http://img2.imgtn.bdimg.com/it/u=4124928157,904761185&fm=26&gp=0.jpg",
    "http://img3.imgtn.bdimg.com/it/u=949200921,2955519672&fm=26&gp=0.jpg",
    "http://img1.imgtn.bdimg.com/it/u=791295127,2878060470&fm=26&gp=0.jpg",
    "http://img1.imgtn.bdimg.com/it/u=245278032,1947501835&fm=26&gp=0.jpg",
    "http://img5.imgtn.bdimg.com/it/u=4185822336,206854053&fm=26&gp=0.jpg",
    "http://img0.imgtn.bdimg.com/it/u=1514068782,977718294&fm=26&gp=0.jpg",
    "http://img1.imgtn.bdimg.com/it/u=3886586483,2002817400&fm=26&gp=0.jpg",
    "http://img2.imgtn.bdimg.com/it/u=2569457722,1031695252&fm=26&gp=0.jpg",
    "http://img3.imgtn.bdimg.com/it/u=1670458759,2783974800&fm=26&gp=0.jpg",
    "http://img5.imgtn.bdimg.com/it/u=1167063092,796841055&fm=26&gp=0.jpg",
    "http://img3.imgtn.bdimg.com/it/u=2237327025,1514832030&fm=26&gp=0.jpg",
    "http://img3.imgtn.bdimg.com/it/u=128685246,771675801&fm=26&gp=0.jpg",
    "http://img3.imgtn.bdimg.com/it/u=2539570188,3081085147&fm=26&gp=0.jpg",
    "http://img4.imgtn.bdimg.com/it/u=1719180828,3682735148&fm=26&gp=0.jpg",
    "http://img3.imgtn.bdimg.com/it/u=991328572,2338747487&fm=26&gp=0.jpg",
    "http://img3.imgtn.bdimg.com/it/u=4005287524,3408713571&fm=26&gp=0.jpg",
    "http://img5.imgtn.bdimg.com/it/u=819921609,3970611354&fm=26&gp=0.jpg",
    "http://img2.imgtn.bdimg.com/it/u=2874399589,1003931809&fm=26&gp=0.jpg",
    "http://img5.imgtn.bdimg.com/it/u=3090596654,2933800591&fm=26&gp=0.jpg",
    "http://img3.imgtn.bdimg.com/it/u=969177423,4062776794&fm=26&gp=0.jpg",
    "http://img4.imgtn.bdimg.com/it/u=3937105554,81745090&fm=26&gp=0.jpg",
    "http://img3.imgtn.bdimg.com/it/u=2633916762,324155553&fm=26&gp=0.jpg",
    "http://img0.imgtn.bdimg.com/it/u=3098394390,1269922660&fm=26&gp=0.jpg"
  ],
  [
    "http://img1.imgtn.bdimg.com/it/u=3301358480,182333021&fm=26&gp=0.jpg",
    "http://img3.imgtn.bdimg.com/it/u=4091225905,1187841192&fm=26&gp=0.jpg",
    "http://img5.imgtn.bdimg.com/it/u=1109801108,3048072447&fm=26&gp=0.jpg",
    "http://img5.imgtn.bdimg.com/it/u=2077801190,4244552641&fm=26&gp=0.jpg",
    "http://img4.imgtn.bdimg.com/it/u=374918603,1307668931&fm=26&gp=0.jpg",
    "http://img1.imgtn.bdimg.com/it/u=1110277955,3877490994&fm=26&gp=0.jpg",
    "http://img1.imgtn.bdimg.com/it/u=1441913837,4240005606&fm=26&gp=0.jpg",
    "http://img4.imgtn.bdimg.com/it/u=2770847011,76937673&fm=26&gp=0.jpg",
    "http://img5.imgtn.bdimg.com/it/u=1731615445,2224313734&fm=26&gp=0.jpg",
    "http://img3.imgtn.bdimg.com/it/u=2040417788,4213541351&fm=26&gp=0.jpg",
    "http://img4.imgtn.bdimg.com/it/u=3965728694,758729946&fm=26&gp=0.jpg",
    "http://img0.imgtn.bdimg.com/it/u=3858464365,2928033453&fm=26&gp=0.jpg",
    "http://img0.imgtn.bdimg.com/it/u=1421500215,1832930619&fm=26&gp=0.jpg",
    "http://img1.imgtn.bdimg.com/it/u=1495238472,4170674777&fm=26&gp=0.jpg",
    "http://img2.imgtn.bdimg.com/it/u=3889064414,2009917438&fm=26&gp=0.jpg",
    "http://img1.imgtn.bdimg.com/it/u=3931104342,532062497&fm=26&gp=0.jpg",
    "http://img4.imgtn.bdimg.com/it/u=226745828,1613115326&fm=26&gp=0.jpg",
    "http://img4.imgtn.bdimg.com/it/u=2148530782,2361100144&fm=26&gp=0.jpg",
    "http://img3.imgtn.bdimg.com/it/u=1786965761,947830000&fm=26&gp=0.jpg",
    "http://img5.imgtn.bdimg.com/it/u=1915984469,1327744878&fm=26&gp=0.jpg",
    "http://img5.imgtn.bdimg.com/it/u=25972640,464869167&fm=26&gp=0.jpg",
    "http://img4.imgtn.bdimg.com/it/u=999751125,902607901&fm=26&gp=0.jpg",
    "http://img0.imgtn.bdimg.com/it/u=921475115,2225630929&fm=26&gp=0.jpg",
    "http://img4.imgtn.bdimg.com/it/u=2209905898,388293942&fm=26&gp=0.jpg",
    "http://img2.imgtn.bdimg.com/it/u=86273589,1544880875&fm=26&gp=0.jpg",
    "http://img1.imgtn.bdimg.com/it/u=2025809611,299738196&fm=26&gp=0.jpg",
    "http://img1.imgtn.bdimg.com/it/u=2054072125,2014207806&fm=26&gp=0.jpg",
    "http://img3.imgtn.bdimg.com/it/u=4139065206,131032125&fm=26&gp=0.jpg",
    "http://img4.imgtn.bdimg.com/it/u=4153705871,2410531719&fm=26&gp=0.jpg",
    "http://img2.imgtn.bdimg.com/it/u=804319939,3416492401&fm=26&gp=0.jpg",
    "http://img4.imgtn.bdimg.com/it/u=639623158,92441016&fm=26&gp=0.jpg",
    "http://img5.imgtn.bdimg.com/it/u=2061947018,3578486137&fm=26&gp=0.jpg",
    "http://img5.imgtn.bdimg.com/it/u=10961889,743810648&fm=26&gp=0.jpg",
    "http://img4.imgtn.bdimg.com/it/u=3982845078,356135606&fm=26&gp=0.jpg",
    "http://img0.imgtn.bdimg.com/it/u=1620120932,2739448448&fm=26&gp=0.jpg",
    "http://img0.imgtn.bdimg.com/it/u=715660411,3891283995&fm=26&gp=0.jpg",
    "http://img1.imgtn.bdimg.com/it/u=2654427297,2389405616&fm=26&gp=0.jpg",
    "http://img4.imgtn.bdimg.com/it/u=1348631487,3145363397&fm=26&gp=0.jpg",
    "http://img0.imgtn.bdimg.com/it/u=537501145,2320471355&fm=26&gp=0.jpg",
    "http://img2.imgtn.bdimg.com/it/u=3004330902,2211991146&fm=26&gp=0.jpg",
    "http://img2.imgtn.bdimg.com/it/u=2425370561,395428893&fm=26&gp=0.jpg",
    "http://img2.imgtn.bdimg.com/it/u=2330478434,1750153098&fm=26&gp=0.jpg",
    "http://img2.imgtn.bdimg.com/it/u=2269117301,2833930837&fm=26&gp=0.jpg",
    "http://img5.imgtn.bdimg.com/it/u=4088941385,817954528&fm=26&gp=0.jpg",
    "http://img5.imgtn.bdimg.com/it/u=746834350,2700357175&fm=26&gp=0.jpg",
    "http://img2.imgtn.bdimg.com/it/u=2071476897,4011864021&fm=26&gp=0.jpg",
    "http://img3.imgtn.bdimg.com/it/u=1179511625,1319469574&fm=26&gp=0.jpg",
    "http://img1.imgtn.bdimg.com/it/u=3300932139,4241437814&fm=26&gp=0.jpg",
    "http://img4.imgtn.bdimg.com/it/u=4245997306,393732394&fm=26&gp=0.jpg",
    "http://img5.imgtn.bdimg.com/it/u=746834350,2700357175&fm=26&gp=0.jpg"
  ]
];

    var page = 0;
    var SCROLL_THRESHOLD = 20;
    var container = document.getElementById('container');

    function update(page) {
        var images = pagedImages[page];
        var html = [];
        var div = null;
        var img = null;
        var fragment = document.createDocumentFragment();
        for (var i = 0, len = images.length; i < len; i++) {
            div = document.createElement('div');
            div.className = 'wf-img';
            img = document.createElement('img');
            img.src = images[i];
            div.appendChild(img);
            fragment.appendChild(div);
        }
        container.appendChild(fragment);
    }

    update(page);

    var waterfall = new Waterfall({
        container: container
    });

    window.onscroll = function () {
        var scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
        var scrollHeight = document.documentElement.scrollHeight || document.body.scrollHeight;
        if (!scrollTop || scrollTop + window.innerHeight + SCROLL_THRESHOLD < scrollHeight) {
            return;
        }

        if (page + 1 < pagedImages.length) {
            update(++page);
            waterfall.render();
        }
    };
</script>
